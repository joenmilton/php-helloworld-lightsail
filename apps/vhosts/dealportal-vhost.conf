<VirtualHost *:80>
    ServerAdmin a2zstreetdjs@gmail.com
    ServerName portal.techyline.com
    ServerAlias www.portal.techyline.com
    DocumentRoot /opt/bitnami/apache/apps/dealportal
    <IfModule mod_proxy.c>
        ProxyPass /.well-known !
    </IfModule>

    <Directory "/opt/bitnami/apache/apps/dealportal">
        Options Indexes FollowSymLinks
        AllowOverride All
        Require all granted
    </Directory>

    # Redirect HTTP to HTTPS while preserving POST requests
    RewriteEngine On
    RewriteCond %{HTTPS} !=on
    RewriteRule ^/(.*)$ https://portal.techyline.com/$1 [R=301,L]

    # Error Documents
    ErrorDocument 503 /503.html
</VirtualHost>
